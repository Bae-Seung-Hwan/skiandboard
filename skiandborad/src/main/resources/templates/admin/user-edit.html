<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/_head :: head}"></head>
<body>
<header th:replace="~{fragments/_nav :: nav}"></header>

<main class="page-container" style="max-width:600px;margin:32px auto;padding:0 16px;">
  <section class="page-header" style="margin-bottom:16px;">
    <h1>회원 정보 수정</h1>
    <p class="page-sub" th:text="|회원 ID: ${userId}|"></p>
  </section>

  <section class="card">
    <form th:action="@{|/admin/users/${userId}/edit|}"
          th:object="${form}"
          method="post"
          style="display:flex;flex-direction:column;gap:12px;">

      <input type="hidden"
             th:if="${_csrf != null}"
             th:name="${_csrf.parameterName}"
             th:value="${_csrf.token}"/>

      <div>
        <label>아이디</label><br>
        <input type="text" th:field="*{username}" disabled />
      </div>

      <div>
        <label>닉네임</label><br>
        <input type="text" th:field="*{displayName}" />
      </div>

      <div>
        <label>권한(Role)</label><br>
        <select th:field="*{role}">
          <option th:each="r : ${roles}"
                  th:value="${r}"
                  th:text="${r}"></option>
        </select>
      </div>

      <div>
        <label>
          <input type="checkbox" th:field="*{enabled}" />
          활성화
        </label>
      </div>

      <div style="margin-top:12px;">
        <button type="submit" class="btn">저장</button>
        <a th:href="@{/admin/users}" style="margin-left:8px;">목록으로</a>
      </div>
    </form>
  </section>
</main>
</body>
</html>
