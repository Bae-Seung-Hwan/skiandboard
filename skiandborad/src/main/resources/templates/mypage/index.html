<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/_head :: head}"></head>
<body>
<header th:replace="~{fragments/_nav :: nav}"></header>

<main class="page-container">
  <section class="page-header">
    <h1>마이페이지</h1>
    <p class="page-sub" th:text="|${displayName} 님, 환영합니다.|"></p>
  </section>

  <section class="page-content" style="display:grid; grid-template-columns:260px 1fr; gap:24px;">
    <!-- 좌측 메뉴 -->
    <aside class="card" style="padding:12px;">
      <nav class="mypage-nav">
        <a th:href="@{/mypage}" class="mypage-nav__item is-active">요약</a>
        <a th:href="@{/mypage/profile}" class="mypage-nav__item">내 정보</a>
        <a th:href="@{/mypage/posts}" class="mypage-nav__item">내 게시글</a>
        <a th:href="@{/mypage/comments}" class="mypage-nav__item">내 댓글</a>
      </nav>
    </aside>

    <!-- 우측 내용 -->
    <section style="display:flex; flex-direction:column; gap:16px;">
      <div class="card">
        <h2>최근 게시글</h2>
        <ul>
          <li th:each="post : ${recentPosts}">
            <a th:href="@{|/board/${post.id}|}">
              <strong th:text="${post.title}"></strong>
            </a>
            <span th:text="${#temporals.format(post.createdAt, 'yyyy-MM-dd HH:mm')}"></span>
            <span th:text="|조회수 ${post.viewCount}|"></span>
          </li>
          <li th:if="${#lists.isEmpty(recentPosts)}">최근 작성한 게시글이 없습니다.</li>
        </ul>
      </div>

      <div class="card">
        <h2>최근 댓글</h2>
        <ul>
          <li th:each="c : ${recentComments}">
            <span th:text="${c.content}"></span>
            <small th:text="${#temporals.format(c.createdAt, 'yyyy-MM-dd HH:mm')}"></small>
          </li>
          <li th:if="${#lists.isEmpty(recentComments)}">최근 작성한 댓글이 없습니다.</li>
        </ul>
      </div>
    </section>
  </section>
</main>
</body>
</html>
